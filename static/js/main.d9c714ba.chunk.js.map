{"version":3,"sources":["components/Drawer/Drawer.module.scss","components/Card/Card.module.scss","Context.js","hooks/useCart.js","components/Info.jsx","components/Drawer/index.js","components/Header.js","components/Card/index.js","components/pages/Home.jsx","components/pages/Favorites.jsx","components/pages/Orders.jsx","App.js","index.js"],"names":["module","exports","AppContext","createContext","useCart","useContext","cartItems","setCartItems","totalPrice","reduce","sum","obj","price","Info","title","image","description","setCartOpened","className","class","width","height","src","alt","onClick","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","onRemove","items","opened","useState","orderId","setOrderId","isOrderComplete","setIsOrderComplete","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","styles","overlay","overlayVisible","style","display","flexDirection","drawer","map","backgroundImage","imageUrl","Header","props","to","onClickCart","Card","onFavorite","onPlus","favorited","loading","isItemAdded","isFavorite","setIsFavorite","parentId","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","plus","Home","searchValue","setSearchValue","onAddToFavorite","onAddToCart","onChangeSearchInpute","isLoading","onChange","value","placeholder","filtredItems","filter","toLowerCase","includes","Array","index","renderItems","Favorites","favorites","Orders","onAddToFavorit","orders","setOrdders","setIsLoading","useEffect","get","prev","App","setItems","setFavorites","cartOpened","all","cartResponse","fevoritesResponse","itemsResponse","fetchData","findItem","find","Number","favObj","Provider","some","error","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d9c714ba.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__394K4\",\"overlayVisible\":\"Drawer_overlayVisible__d3lzx\",\"drawer\":\"Drawer_drawer__3nLoe\",\"items\":\"Drawer_items__VbxzT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__1M3_i\",\"plus\":\"Card_plus__33o8Y\",\"favorite\":\"Card_favorite__27mww\"};","import { createContext } from \"react\";\r\n\r\n const AppContext = createContext({})\r\n\r\n export default AppContext","import { useContext } from \"react\"\r\nimport AppContext from \"../Context\"\r\n\r\n\r\nexport const useCart = () => {\r\n    const { cartItems, setCartItems } = useContext(AppContext);\r\n    const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0);\r\n  \r\n    return { cartItems, setCartItems, totalPrice }\r\n  }","import React, { useContext } from 'react'\r\nimport AppContext from '../Context'\r\n\r\nconst Info = ({title,image,description}) => {\r\n    const{setCartOpened} = useContext(AppContext)\r\n    return (\r\n        <div className=\"cartEmpty d-flex align-center justyfy-center flex-column flex\">\r\n            <img class=\"mb-20\" width=\"120px\" height=\"120px\" src={image} alt=\"EmptyCart\"/>\r\n            <h2>{title}</h2>\r\n            <p class=\"opacity-6\">{description}</p>\r\n            <button  onClick={()=>setCartOpened(false)} class=\"greenButton\">\r\n              <img src=\"img/arrow.svg\" alt=\"Arrow\"/>\r\n                Вернуться назад\r\n            </button>\r\n          </div>\r\n    )\r\n} \r\n\r\nexport default Info\r\n","import axios from 'axios'\r\nimport React, {  useState } from 'react'\r\nimport { useCart } from '../../hooks/useCart'\r\nimport Info from '../Info'\r\nimport styles from './Drawer.module.scss'\r\n\r\nconst delay = (ms) => new Promise((resolve)=>setTimeout(resolve,ms))\r\nconst Drawer = ({onClose,onRemove, items = [],opened}) => {\r\n  const {cartItems,setCartItems,totalPrice} = useCart() \r\n  const [orderId, setOrderId] = useState(null)\r\n  const [isOrderComplete, setIsOrderComplete] = useState(false)\r\n  \r\n\r\n  const onClickOrder = async () => {\r\n    try {\r\n      const {data} = await axios.post('https://615aee6b4a360f0017a8135c.mockapi.io/orders',{items:cartItems})\r\n     \r\n    setOrderId(data.id)\r\n    setIsOrderComplete(true)\r\n    for (let i = 0; i < cartItems.length; i++) {\r\n      const item = cartItems[i]\r\n      await axios.delete('https://615aee6b4a360f0017a8135c.mockapi.io/cart/'+item.id)\r\n      await delay(1000)\r\n    setCartItems([])\r\n    \r\n    }\r\n    } catch (error) {\r\n      alert('Не удалось создать заказ :(')\r\n    }\r\n  }\r\n    return (\r\n    <div  className={`${styles.overlay} ${opened ? styles.overlayVisible : ''}`}> \r\n        <div \r\n        style={{display:\"flex\",flexDirection:\"column\"}}\r\n       className={styles.drawer}>\r\n         <h2 className=\"d-flex justify-between mb-30\">Корзина <img onClick={onClose} className=\"cu-p\" src=\"img/btn-remove.svg\" alt=\"Close\"/> </h2>\r\n          {\r\n            items.length > 0 ? (\r\n              <div className=\"d-flex flex-column flex\">\r\n                <div className=\"items\">\r\n            {items.map((obj)=>\r\n              <div key={obj.id} className=\"cartItem d-flex align-center mb-20\">\r\n              <div \r\n                style={{backgroundImage: `url(${obj.imageUrl})`}}\r\n                className=\"cartItemImg\"\r\n              >\r\n              </div>\r\n              <div className=\"mr-20\">\r\n                <p className=\"mb-5\">{obj.title}</p>\r\n                <b>{obj.price} руб.</b>\r\n              </div>\r\n              <img onClick={()=>onRemove(obj.id)} className=\"removeBtn\" src=\"img/btn-remove.svg\" alt=\"Remove\"/>\r\n             </div>\r\n            )}\r\n         \r\n        </div>\r\n         <div className=\"cartTotalBlock\">\r\n         <ul>\r\n           <li>\r\n             <span>Итого:</span>\r\n             <div></div>\r\n            <b>{totalPrice} руб.</b>\r\n           </li>\r\n           <li>\r\n             <span>Налог 5%:</span>\r\n             <div></div>\r\n             <b>{totalPrice*0.05} руб.</b>\r\n           </li>\r\n         </ul>\r\n         <button onClick={onClickOrder} className=\"greenButton\">Оформить заказ <img src=\"img/arrow.svg\" alt=\"Arrow\" /> </button>\r\n          </div>\r\n              </div>\r\n            )\r\n         : (\r\n          <Info title={isOrderComplete ? \"Заказ оформлен!\" : \"Корзина пустая\"} \r\n          description={isOrderComplete ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке` : \"Добавте хотя бы одну пару кросcовок,чтобы сделать заказ\"} \r\n          image={isOrderComplete ?\"img/complete-order.jpg\" :\"img/empty-cart.jpg\"} />\r\n         \r\n         )} \r\n         \r\n         \r\n         \r\n         </div>\r\n         </div>\r\n    )\r\n}\r\n\r\nexport default Drawer\r\n","import React from 'react'\r\nimport { Link} from \"react-router-dom\"\r\nimport { useCart } from '../hooks/useCart'\r\nconst Header = (props) => {\r\n  \r\n  const {totalPrice} = useCart() \r\n    return (\r\n        <header className=\"d-flex justify-between align-center p-40\">\r\n         <Link to=\"/\">\r\n        <div className=\"d-flex align-center\">\r\n           <img width={40} height={40} src=\"img/logo.png\" alt=\"Logotype\"/>\r\n           <div>\r\n           <h3 className=\"text-uppercase\">React Sneakers</h3>\r\n            <p className=\"opacity-4\">Магазин лучших кросовок</p>\r\n         </div>\r\n       </div>\r\n       </Link>\r\n         <ul className=\"d-flex\">\r\n           <li onClick={props.onClickCart}  className=\"mr-30 cu-p\">\r\n           <img className=\"mr-30 cu-p\" width={20} height={20} src=\"img/card.svg\" alt=\"Heart\" />\r\n \r\n            <span>{totalPrice} руб.</span>\r\n           </li>\r\n            <li>\r\n             <Link to=\"/favorites\">\r\n             <img className=\"mr-30 cu-p\" width={18} height={18} src=\"img/heart.svg\" alt=\"Heart\" />\r\n             </Link>\r\n            </li>\r\n           <li>\r\n           <Link to=\"/orders\">\r\n             <img className=\" cu-p\" width={18} height={18} src=\"img/user.svg\" alt=\"User\" />\r\n             </Link>\r\n \r\n           </li>\r\n \r\n         </ul>\r\n       </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React, { useContext, useState } from 'react'\r\nimport styles from './Card.module.scss'\r\nimport ContentLoader from 'react-content-loader'\r\nimport AppContext from '../../Context'\r\nconst Card = ({id,onFavorite,imageUrl,title,price,onPlus,favorited = false,  loading = false}) => {\r\n   const {isItemAdded} = useContext(AppContext)\r\n   const[isFavorite, setIsFavorite] = useState(favorited) \r\n   const obj = {id, parentId: id,title,imageUrl,price}\r\n\r\n   const onClickPlus = () =>{\r\n     onPlus(obj)\r\n     \r\n   }\r\n\r\n   const onClickFavorite = ()=>{\r\n     onFavorite(obj)\r\n      setIsFavorite(!isFavorite)\r\n   }\r\n    return (\r\n        <div className={styles.card}>\r\n          {\r\n            loading ? (\r\n              <ContentLoader\r\n                speed={2}\r\n                width={155}\r\n                height={250}\r\n                viewBox=\"0 0 155 265\"\r\n                backgroundColor=\"#f3f3f3\"\r\n                foregroundColor=\"#ecebeb\">\r\n                <rect x=\"1\" y=\"0\" rx=\"10\" ry=\"10\" width=\"155\" height=\"155\" />\r\n                <rect x=\"0\" y=\"167\" rx=\"5\" ry=\"5\" width=\"155\" height=\"15\" />\r\n                <rect x=\"0\" y=\"187\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\" />\r\n                <rect x=\"1\" y=\"234\" rx=\"5\" ry=\"5\" width=\"80\" height=\"25\" />\r\n                <rect x=\"124\" y=\"230\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\" />\r\n              </ContentLoader>\r\n            ) : (\r\n              <>\r\n                <div className={styles.favorite} onClick={onClickFavorite}>\r\n          <img src={isFavorite ? \"img/heart-like.svg\" : \"img/heart-unliked.svg\"} alt=\"Unliked\"/>\r\n          </div>\r\n          <img width={133} height={112} src={imageUrl} alt=\"Sneakers\" />\r\n          <h5>{title}</h5>\r\n          <div className=\"d-flex justify-between align-center\">\r\n           <div className=\"d-flex flex-column\">\r\n             <span>Цена:</span>\r\n             <b>{price} руб.</b>\r\n             </div>\r\n             \r\n               {onPlus && <img className={styles.plus}   onClick={onClickPlus} src={isItemAdded(id) ? \"img/btn-cheked.svg\" : \"img/btn-plus.svg\"} alt=\"Plus\"/>}\r\n               \r\n          </div>  \r\n              </>\r\n            )\r\n          }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Card\r\n","import React from 'react'\r\n\r\nimport Card from \"../Card/index\";\r\n\r\nconst Home = ({items,\r\n    searchValue,\r\n    cartItems,\r\n    setSearchValue,\r\n    onAddToFavorite,\r\n    onAddToCart,\r\n    onChangeSearchInpute,\r\n    isLoading \r\n}) => {\r\n \r\n    \r\nconst renderItems = () =>{\r\n    const filtredItems = items.filter((item)=>item.title.toLowerCase().includes(searchValue.toLowerCase()))\r\n    return (isLoading ? [...Array(10)]: filtredItems).map((item,index)=>(   \r\n        <Card\r\n        key={index}\r\n        onFavorite={(obj) => onAddToFavorite(obj)}\r\n        onPlus={(obj)=>onAddToCart(obj)}\r\n        loading={isLoading}\r\n        {...item}\r\n        />\r\n      ))\r\n}    \r\n    return (\r\n        <div className='content p-40'>\r\n        <div className=\"d-flex align-center justify-between mb-40\">\r\n        <h1>{searchValue ? `Поиск по запросу: \"${searchValue}\"`: 'Все кросcовки'}</h1>\r\n         <div className=\"search-block d-flex\">\r\n           <img src=\"img/search.svg\" alt=\"Search\"/>\r\n           {searchValue && <img onClick={() => setSearchValue('')} className=\" clear cu-p\" src=\"img/btn-remove.svg\" alt=\"Close\"/>}\r\n           <input onChange={onChangeSearchInpute} value={searchValue} placeholder=\"Поиск...\" />\r\n\r\n         </div>\r\n        </div>\r\n         <div className=\"d-flex flex-wrap\">\r\n          {renderItems()}\r\n         \r\n           \r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React, { useContext } from 'react'\r\nimport AppContext from '../../Context'\r\nimport Card from \"../Card/index\"\r\nconst Favorites = () => {\r\n  const {favorites,onAddToFavorite} = useContext(AppContext)\r\n    return (\r\n        <div className='content p-40'>\r\n        <div className=\"d-flex align-center justify-between mb-40\">\r\n          <h1>Мои Закладки</h1>\r\n        </div>\r\n         <div className=\"d-flex flex-wrap\">\r\n         {favorites.map((item,index)=>(\r\n           <Card\r\n           key={index}\r\n           favorited={true}\r\n           onFavorite={onAddToFavorite}\r\n           {...item}\r\n           \r\n           />\r\n         ))}\r\n         \r\n           \r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Favorites\r\n","import axios from 'axios'\r\nimport React, { useContext, useEffect, useState } from 'react'\r\nimport AppContext from '../../Context'\r\nimport Card from \"../Card/index\"\r\nconst Orders = () => {\r\n  const { onAddToFavorit} = useContext(AppContext)\r\n  const [orders, setOrdders] = useState([])\r\n  const [isLoading,setIsLoading] = useState(true)\r\n\r\n  useEffect(() =>{\r\n   (async ()=>{\r\n    try {\r\n      const {data} = await axios.get('https://615aee6b4a360f0017a8135c.mockapi.io/orders')\r\n      setOrdders(data.reduce((prev,obj)=>[...prev,...obj.items],[]))\r\n      setIsLoading(false)\r\n    } catch (error) {\r\n      alert(\"Ошибка при запросе заказов\") \r\n    }\r\n   })()\r\n  },[])\r\n    return (\r\n        <div className='content p-40'>\r\n        <div className=\"d-flex align-center justify-between mb-40\">\r\n          <h1>Мои Заказы</h1>\r\n        </div>\r\n         <div className=\"d-flex flex-wrap\">\r\n         {(isLoading ? [...Array(8)]: orders).map((item,index)=>(\r\n           <Card\r\n           key={index}\r\n           onFavorite={(obj) => onAddToFavorit(obj)}\r\n           loading={isLoading}\r\n           {...item}\r\n           \r\n           />\r\n         ))}\r\n         \r\n           \r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Orders\r\n","import {  useEffect, useState } from \"react\";\nimport { Route} from \"react-router-dom\"\nimport axios from \"axios\";\n\nimport Drawer from \"./components/Drawer/index\";\nimport Header from \"./components/Header\";\nimport Home from \"./components/pages/Home\";\nimport Favorites from \"./components/pages/Favorites\";\nimport AppContext from \"./Context\";\nimport Orders from \"./components/pages/Orders\";\n\n\nfunction App() {\n  const [items, setItems] = useState([])\n  const [cartItems, setCartItems] = useState([])\n  const [favorites, setFavorites] = useState([])\n  const [searchValue, setSearchValue] = useState('')\n  const [cartOpened,setCartOpened] = useState(false)\n  const [isLoading,setIsLoading] = useState(true)\n\n  useEffect(()=>{\n    async function fetchData(){\n     try {\n       const [cartResponse,fevoritesResponse,itemsResponse] = await Promise.all([\n        axios.get('https://615aee6b4a360f0017a8135c.mockapi.io/cart'),\n        axios.get('https://615aee6b4a360f0017a8135c.mockapi.io/favorites'),\n        axios.get('https://615aee6b4a360f0017a8135c.mockapi.io/items')\n       ])\n      \n      \n      setIsLoading(false)\n      setCartItems(cartResponse.data)\n      setFavorites(fevoritesResponse.data)\n      setItems(itemsResponse.data)\n     } catch (error) {\n       alert(\"Ошибка при загрузке данных\")\n     }\n      \n    }\n    fetchData()\n  },[])\n\n  const onAddToCart = async (obj) =>{\n    try {\n      const findItem = cartItems.find((item)=>Number(item.parentId)===Number(obj.id))\n      if(findItem){\n        setCartItems((prev)=>prev.filter((item)=>Number(item.parentId)!==Number(obj.id)))\n       await axios.delete(`https://615aee6b4a360f0017a8135c.mockapi.io/cart/${findItem.id}`)\n      }else{\n        setCartItems(prev => [...prev,obj])\n       const {data} = await axios.post('https://615aee6b4a360f0017a8135c.mockapi.io/cart',obj)\n       setCartItems((prev) => prev.map(item =>{\n         if(item.parentId===data.parentId){\n           return{\n             ...item,\n             id: data.id\n           }\n         }\n         return item \n       }) )\n      }\n    } catch (error) {\n      alert(\"Ошибка при добавлении в корзину\")\n    }\n    \n   \n  }\n\n  const onRemoveItem = (id) =>{\n   try {\n    axios.delete(`https://615aee6b4a360f0017a8135c.mockapi.io/cart/${id}`)\n    setCartItems((prev) => prev.filter(item => Number(item.id) !==Number(id)))\n   } catch (error) {\n    alert(\"Ошибка при удалении  из корзины\")\n   }\n  } \n\n  const onAddToFavorite = async(obj) =>{\n    try{\n      if(favorites.find(favObj =>favObj.id===obj.id)){\n        axios.delete(`https://615aee6b4a360f0017a8135c.mockapi.io/favorites/${obj.id}`)\n        setFavorites(prev => prev.filter(item => Number(item.id) !==Number(obj.id)))\n      }else{\n        const {data} = await axios.post('https://615aee6b4a360f0017a8135c.mockapi.io/favorites',obj)\n        setFavorites(prev => [...prev,data])\n      }\n    }catch(error){\n      alert('Не удалось добавить в фавориты')\n    }\n   \n  }\n   \n  const onChangeSearchInpute = (event) =>{\n    setSearchValue(event.target.value)\n  }\n\n  const isItemAdded = (id) =>{\n    return cartItems.some((obj) => Number(obj.parentId) ===Number(id))\n  }\n\n  return (\n    <AppContext.Provider value={{items,cartItems,favorites,isItemAdded,onAddToFavorite,setCartOpened,setCartItems,onAddToCart}}>\n    <div className=\"wrapper clear\">\n      <Drawer \n      items={cartItems} \n      onClose={()=>setCartOpened(false)} \n      onRemove={onRemoveItem}\n      opened = {cartOpened} \n      /> \n      <Header onClickCart={()=> setCartOpened(true)} />\n       <Route path=\"/\" exact>\n        <Home\n         items={items}\n         cartItems={cartItems}\n         searchValue={searchValue}\n         setSearchValue={setSearchValue}\n         onAddToFavorite={onAddToFavorite}\n         onAddToCart={onAddToCart}\n         onChangeSearchInpute={onChangeSearchInpute}\n         isLoading={isLoading}\n\n         \n        />\n       </Route>\n       <Route path=\"favorites\" exact>\n         <Favorites  />\n       </Route>\n       <Route path=\"orders\" exact>\n         <Orders/>\n       </Route>\n      </div>\n      </AppContext.Provider>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport {HashRouter as Router} from \"react-router-dom\"\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport 'macro-css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n    <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}